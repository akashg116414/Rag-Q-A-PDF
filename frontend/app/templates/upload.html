{% extends "base.html" %}
{% block content %}
<div class="container mt-5">
    <h1 class="mb-4">Upload Document</h1>
    <form id="upload-form">
        <div class="mb-3">
            <label for="title" class="form-label">Title</label>
            <input type="text" id="title" class="form-control" placeholder="Document title">
        </div>
        <div class="mb-3">
            <label for="content" class="form-label">Content</label>
            <textarea id="content" class="form-control" rows="5" placeholder="Document content"></textarea>
        </div>
        <button type="submit" class="btn btn-success">Upload</button>
    </form>
</div>
<script>
    document.getElementById("upload-form").addEventListener("submit", async (e) => {
        e.preventDefault();
        const title = document.getElementById("title").value;
        const content = document.getElementById("content").value;
        await fetch("/api/documents", {
            method: "POST",
            headers: { "Content-Type": "application/json" },
            body: JSON.stringify({ title, content })
        });
        alert("Document uploaded successfully!");
    });
</script>
{% endblock %}
